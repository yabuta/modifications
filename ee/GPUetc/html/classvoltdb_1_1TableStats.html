<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>voltdb::TableStats Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacevoltdb.html">voltdb</a>::<a class="el" href="classvoltdb_1_1TableStats.html">TableStats</a>
  </div>
</div>
<div class="contents">
<h1>voltdb::TableStats Class Reference</h1><!-- doxytag: class="voltdb::TableStats" --><!-- doxytag: inherits="voltdb::StatsSource" -->
<p><code>#include &lt;<a class="el" href="TableStats_8h_source.html">TableStats.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for voltdb::TableStats:</div>
<div class="dynsection">
<div class="center"><img src="classvoltdb_1_1TableStats__inherit__graph.png" border="0" usemap="#voltdb_1_1TableStats_inherit__map" alt="Inheritance graph"/></div>
<map name="voltdb_1_1TableStats_inherit__map" id="voltdb_1_1TableStats_inherit__map">
<area shape="rect" id="node5" href="classvoltdb_1_1PersistentTableStats.html" title="voltdb::PersistentTableStats" alt="" coords="5,160,221,189"/><area shape="rect" id="node7" href="classvoltdb_1_1StreamedTableStats.html" title="voltdb::StreamedTableStats" alt="" coords="245,160,456,189"/><area shape="rect" id="node2" href="classvoltdb_1_1StatsSource.html" title="voltdb::StatsSource" alt="" coords="153,5,311,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for voltdb::TableStats:</div>
<div class="dynsection">
<div class="center"><img src="classvoltdb_1_1TableStats__coll__graph.png" border="0" usemap="#voltdb_1_1TableStats_coll__map" alt="Collaboration graph"/></div>
<map name="voltdb_1_1TableStats_coll__map" id="voltdb_1_1TableStats_coll__map">
<area shape="rect" id="node2" href="classvoltdb_1_1StatsSource.html" title="voltdb::StatsSource" alt="" coords="629,121,787,151"/><area shape="rect" id="node17" href="classvoltdb_1_1IndexStats.html" title="voltdb::IndexStats" alt="" coords="949,180,1096,209"/><area shape="rect" id="node4" href="classvoltdb_1_1TableTuple.html" title="voltdb::TableTuple" alt="" coords="292,108,433,137"/><area shape="rect" id="node12" href="classvoltdb_1_1Table.html" title="voltdb::Table" alt="" coords="1545,325,1652,355"/><area shape="rect" id="node6" href="classvoltdb_1_1TupleSchema.html" title="voltdb::TupleSchema" alt="" coords="5,355,168,384"/><area shape="rect" id="node14" href="classvoltdb_1_1TableIndex.html" title="voltdb::TableIndex" alt="" coords="1260,267,1404,296"/><area shape="rect" id="node22" href="structvoltdb_1_1TableIndexScheme.html" title="voltdb::TableIndexScheme" alt="" coords="608,341,808,371"/><area shape="rect" id="node10" href="classvoltdb_1_1NValue.html" title="voltdb::NValue" alt="" coords="303,161,423,191"/><area shape="rect" id="node26" href="classvoltdb_1_1ThreadLocalPool.html" title="voltdb::ThreadLocalPool" alt="" coords="932,365,1113,395"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classvoltdb_1_1TableStats-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#a7d478353ee0b41677596af25664f3aa4">TableStats</a> (<a class="el" href="classvoltdb_1_1Table.html">voltdb::Table</a> *table)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#a432dcb8d8849f2047c9c7cef8aabd1db">configure</a> (std::string name, <a class="el" href="namespacevoltdb.html#ae95f7ed55616f551d38762a627669177">voltdb::CatalogId</a> databaseId)</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#ae0a3e313b519c02037b1bc236318b516">generateTableStatsColumnNames</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#a031a6d66833a2979bc5c171668fd2aaa">populateTableStatsSchema</a> (std::vector&lt; <a class="el" href="namespacevoltdb.html#a7fd70c56e4e670f288f9adc91f7332cf">voltdb::ValueType</a> &gt; &amp;types, std::vector&lt; int32_t &gt; &amp;columnLengths, std::vector&lt; bool &gt; &amp;allowNull, std::vector&lt; bool &gt; &amp;inBytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvoltdb_1_1Table.html">Table</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#aa2288c30154c88d7c4541f096c01adc2">generateEmptyTableStatsTable</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#aeaa110080205db330c6445a0fef113b0">updateStatsTuple</a> (<a class="el" href="classvoltdb_1_1TableTuple.html">voltdb::TableTuple</a> *tuple)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#a0b7b9d433acf361aa0e3899515bbcc51">generateStatsColumnNames</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#aa327d0e574c1eab55b92e29044bec724">populateSchema</a> (std::vector&lt; <a class="el" href="namespacevoltdb.html#a7fd70c56e4e670f288f9adc91f7332cf">voltdb::ValueType</a> &gt; &amp;types, std::vector&lt; int32_t &gt; &amp;columnLengths, std::vector&lt; bool &gt; &amp;allowNull, std::vector&lt; bool &gt; &amp;inBytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvoltdb_1_1TableStats.html#a48c9152097c2f6c9967722581ae4353b">~TableStats</a> ()</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classvoltdb_1_1StatsSource.html">StatsSource</a> extension for tables. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7d478353ee0b41677596af25664f3aa4"></a><!-- doxytag: member="voltdb::TableStats::TableStats" ref="a7d478353ee0b41677596af25664f3aa4" args="(voltdb::Table *table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableStats::TableStats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvoltdb_1_1Table.html">voltdb::Table</a> *&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a48c9152097c2f6c9967722581ae4353b"></a><!-- doxytag: member="voltdb::TableStats::~TableStats" ref="a48c9152097c2f6c9967722581ae4353b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TableStats::~TableStats </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a432dcb8d8849f2047c9c7cef8aabd1db"></a><!-- doxytag: member="voltdb::TableStats::configure" ref="a432dcb8d8849f2047c9c7cef8aabd1db" args="(std::string name, voltdb::CatalogId databaseId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void voltdb::TableStats::configure </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevoltdb.html#ae95f7ed55616f551d38762a627669177">voltdb::CatalogId</a>&nbsp;</td>
          <td class="paramname"> <em>databaseId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configure a <a class="el" href="classvoltdb_1_1StatsSource.html">StatsSource</a> superclass for a set of statistics. Since this class is only used in the EE it can be assumed that it is part of an Execution Site and that there is a site Id.  name Name of this set of statistics  hostId id of the host this partition is on  hostname name of the host this partition is on  siteId this stat source is associated with  partitionId this stat source is associated with  databaseId Database this source is associated with </p>

<p>Reimplemented from <a class="el" href="classvoltdb_1_1StatsSource.html#add1325ed2afd75b86cd4ab6a92be3fde">voltdb::StatsSource</a>.</p>

</div>
</div>
<a class="anchor" id="aa2288c30154c88d7c4541f096c01adc2"></a><!-- doxytag: member="voltdb::TableStats::generateEmptyTableStatsTable" ref="aa2288c30154c88d7c4541f096c01adc2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvoltdb_1_1Table.html">Table</a> * TableStats::generateEmptyTableStatsTable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return an empty <a class="el" href="classvoltdb_1_1TableStats.html">TableStats</a> table </p>

</div>
</div>
<a class="anchor" id="a0b7b9d433acf361aa0e3899515bbcc51"></a><!-- doxytag: member="voltdb::TableStats::generateStatsColumnNames" ref="a0b7b9d433acf361aa0e3899515bbcc51" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; string &gt; TableStats::generateStatsColumnNames </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generates the list of column names that will be in the statTable_. Derived classes must override this method and call the parent class's version to obtain the list of columns contributed by ancestors and then append the columns they will be contributing to the end of the list. </p>

<p>Reimplemented from <a class="el" href="classvoltdb_1_1StatsSource.html#a3d2908f52742c9d4323a0f0c013217b6">voltdb::StatsSource</a>.</p>

<p>Reimplemented in <a class="el" href="classvoltdb_1_1PersistentTableStats.html#a66562f950c7ee09fa3b047b0271f6808">voltdb::PersistentTableStats</a>, and <a class="el" href="classvoltdb_1_1StreamedTableStats.html#add0da545bb7b8d60ae94587cbaf3b612">voltdb::StreamedTableStats</a>.</p>

</div>
</div>
<a class="anchor" id="ae0a3e313b519c02037b1bc236318b516"></a><!-- doxytag: member="voltdb::TableStats::generateTableStatsColumnNames" ref="ae0a3e313b519c02037b1bc236318b516" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; string &gt; TableStats::generateTableStatsColumnNames </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Static method to generate the column names for the tables which contain persistent table stats. </p>

</div>
</div>
<a class="anchor" id="aa327d0e574c1eab55b92e29044bec724"></a><!-- doxytag: member="voltdb::TableStats::populateSchema" ref="aa327d0e574c1eab55b92e29044bec724" args="(std::vector&lt; voltdb::ValueType &gt; &amp;types, std::vector&lt; int32_t &gt; &amp;columnLengths, std::vector&lt; bool &gt; &amp;allowNull, std::vector&lt; bool &gt; &amp;inBytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void voltdb::TableStats::populateSchema </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacevoltdb.html#a7fd70c56e4e670f288f9adc91f7332cf">voltdb::ValueType</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int32_t &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>columnLengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; bool &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>allowNull</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; bool &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>inBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Same pattern as generateStatsColumnNames except the return value is used as an offset into the tuple schema instead of appending to end of a list. </p>

<p>Reimplemented from <a class="el" href="classvoltdb_1_1StatsSource.html#aee51ae5a67ded7bf79cf5d15594d3ecd">voltdb::StatsSource</a>.</p>

</div>
</div>
<a class="anchor" id="a031a6d66833a2979bc5c171668fd2aaa"></a><!-- doxytag: member="voltdb::TableStats::populateTableStatsSchema" ref="a031a6d66833a2979bc5c171668fd2aaa" args="(std::vector&lt; voltdb::ValueType &gt; &amp;types, std::vector&lt; int32_t &gt; &amp;columnLengths, std::vector&lt; bool &gt; &amp;allowNull, std::vector&lt; bool &gt; &amp;inBytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void voltdb::TableStats::populateTableStatsSchema </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="namespacevoltdb.html#a7fd70c56e4e670f288f9adc91f7332cf">voltdb::ValueType</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int32_t &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>columnLengths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; bool &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>allowNull</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; bool &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>inBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Static method to generate the remaining schema information for the tables which contain persistent table stats. </p>

</div>
</div>
<a class="anchor" id="aeaa110080205db330c6445a0fef113b0"></a><!-- doxytag: member="voltdb::TableStats::updateStatsTuple" ref="aeaa110080205db330c6445a0fef113b0" args="(voltdb::TableTuple *tuple)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TableStats::updateStatsTuple </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvoltdb_1_1TableTuple.html">voltdb::TableTuple</a> *&nbsp;</td>
          <td class="paramname"> <em>tuple</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update the stats tuple with the latest statistics available to this <a class="el" href="classvoltdb_1_1StatsSource.html">StatsSource</a>. </p>

<p>Implements <a class="el" href="classvoltdb_1_1StatsSource.html#abed97f3844b49b94bd5749108a5e7e35">voltdb::StatsSource</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>storage/<a class="el" href="TableStats_8h_source.html">TableStats.h</a></li>
<li>storage/<a class="el" href="TableStats_8cpp.html">TableStats.cpp</a></li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 2 Oct 2014 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
